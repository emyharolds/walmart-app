version: 2

models:
  - name: fact_walmart_sales
    description: Fact table for Walmart weekly sales with all metrics
    columns:
      - name: store_key
        description: Foreign key to dim_store
        tests:
          - not_null
          - relationships:
              to: ref('dim_store')
              field: store_key
      - name: date_key
        description: Foreign key to dim_date
        tests:
          - relationships:
              to: ref('dim_date')
              field: date_key
      - name: store_id
        description: Store identifier
        tests:
          - not_null
      - name: dept_id
        description: Department identifier
        tests:
          - not_null
      - name: store_date
        description: Week end date
        tests:
          - not_null
      - name: weekly_sales
        description: Weekly sales amount
      - name: isholiday
        description: Holiday flag
      - name: temperature
        description: Average temperature
      - name: fuel_price
        description: Fuel price in the region
      - name: markdown1
        description: Markdown data 1
      - name: markdown2
        description: Markdown data 2
      - name: markdown3
        description: Markdown data 3
      - name: markdown4
        description: Markdown data 4
      - name: markdown5
        description: Markdown data 5
      - name: cpi
        description: Consumer Price Index
      - name: unemployment
        description: Unemployment rate
